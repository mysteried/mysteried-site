:root {
    --ok: #00c853;
    --error: #b00020;
}

/* =====================
   ops-desc çŠ¶æ…‹è‰²
   ===================== */
/* ä¸Šæ®µãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è‰²åˆ†ã‘ï¼ˆops-desc ã«ä»˜ãçŠ¶æ…‹ã‚¯ãƒ©ã‚¹ï¼‰ */
#ops-footer .ops-desc-row .ops-desc.is-error {
    color: var(--error);
}

#ops-footer .ops-desc-row .ops-desc.is-success {
    color: var(--ok);
}

#ops-footer .ops-desc-row .ops-desc.is-info {
    color: #111;
}

/* =====================
   ãƒšãƒ¼ã‚¸éª¨æ ¼ / èƒŒæ™¯
   ===================== */
/* ===== ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ï¼šãƒ˜ãƒƒãƒ€ãƒ¼éè¡¨ç¤ºï¼ˆç´™ã¨æ¼”å‡ºã«é›†ä¸­ï¼‰ ===== */
body.page-story .site-header {
    display: none;
}

/* ===== èƒŒæ™¯ï¼šæœ¨ã®æœº ===== */
body.page-story {
    background-image: var(--stage-bg, url("../assets/images/wooddesk2.jpg"));
    background-size: var(--stage-bg-size, cover);
    background-position: var(--stage-bg-pos, center);
    background-repeat: no-repeat;
    background-attachment: scroll;
    /* iOS Safari å¯¾å¿œ */
    min-height: 100vh;
    /* â† é‡è¦ */
}

/* ã‚ãšã‹ãªãƒ“ãƒãƒƒãƒˆã§ç´™ã¨UIã‚’æµ®ã‹ã›ã‚‹ */
body.page-story::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background: radial-gradient(65% 55% at 50% 35%, rgba(0, 0, 0, 0.00) 55%, rgba(0, 0, 0, 0.10) 100%);
    z-index: 0;
}

body.page-story::after {
    content: "";
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.02);
    pointer-events: none;
    z-index: 0;
}

/* ==== ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒãƒ•ãƒƒã‚¿ãƒ¼ã«éš ã‚Œãªã„ã‚ˆã†ä½™ç™½ã‚’ç¢ºä¿ ==== */
.page-story main {
    padding-bottom: 160px;
    /* PC ã‚‚å®‰å…¨ã«ä½™ç™½ã‚’ç¢ºä¿ */
}

/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ä¸Šã«é‡ã­ã‚‹ */
header,
main,
footer {
    position: relative;
    z-index: 1;
}

/* =====================
   ç´™ï¼ˆnote-paperï¼‰
   ===================== */
/* ===== ç´™ï¼ˆnote-paperï¼‰ ===== */
.note-paper {
    position: relative;
    width: min(600px, 92vw);
    margin: 100px auto;
    aspect-ratio: 1 / 1;
}

.note-paper .note-bg {
    position: absolute;
    inset: 0;
    background: var(--note-bg, url("../assets/images/note_texture.jpeg")) center/cover no-repeat;
    /* border: 1px solid rgba(0, 0, 0, .08); */
    /* box-shadow: 0 10px 25px rgba(0, 0, 0, .2); */
    z-index: 0;
}

.note-paper .note-text {
    position: relative;
    z-index: 1;
    padding: 32px 24px;
    font-family: "YuMincho", "Hiragino Mincho ProN", "Noto Serif JP", serif;
    font-size: 40px;
    font-weight: 400;
    line-height: 1.9;
    color: #2b1a08;
    letter-spacing: .05em;
    font-style: oblique 8deg;
}

.note-paper .note-line {
    filter: contrast(1.05);
    text-shadow:
        0 0.4px 0.8px rgba(0, 0, 0, 0.08),
        0.3px 0.3px 0 rgba(0, 0, 0, 0.25);
    transform: rotate(calc(var(--r, 0deg))) translateY(0.5px);
}

/* =====================
   story-UI footerï¼ˆæ“ä½œãƒ•ãƒƒã‚¿ãƒ¼ï¼‰
   ===================== */
/* === 3æ®µãƒ•ãƒƒã‚¿ãƒ¼ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ === */
#ops-footer {
    --ops-h: 42px;
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10;
    padding: 12px 14px;
    display: grid;
    grid-template-rows: auto auto auto;
    gap: 10px;
    backdrop-filter: blur(14px) brightness(0.9) saturate(160%);
    background: rgba(255, 255, 255, .40);
    border-top: 1px solid rgba(255, 255, 255, .3);
    box-shadow: 0 -6px 18px rgba(0, 0, 0, 0.15);
}

/* nav-btn and nav-btn:hover styles are kept */
#ops-footer .nav-btn {
    background: rgba(255, 255, 255, 0.3);
    border: 1px solid rgba(0, 0, 0, 0.2);
    color: #222;
    font-size: 18px;
    padding: 6px 10px;
    border-radius: 8px;
    transition: .2s ease;
}

#ops-footer .nav-btn:hover {
    background: rgba(255, 255, 255, 0.5);
    transform: translateY(-1px);
}

/* 1æ®µç›®ï¼ˆèª¬æ˜ï¼‰ */
#ops-footer .ops-desc-row {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 780px;
    margin: 0 auto;
    /* â†“ ğŸ”¥ï¼šfield-row ã¨åŒã˜ãƒ—ãƒ¬ãƒ¼ãƒˆé¢¨èƒŒæ™¯ */
    /* background: rgba(255, 255, 255, 0.32);
    border: 1px solid rgba(255, 255, 255, 0.45);
    border-radius: 10px;
    padding: 8px 10px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12) inset; */
}

#ops-footer .ops-desc-row .ops-desc {
    margin: 0;
    text-align: center;
    font-size: 18px;
    /* â† ã‚µã‚¤ã‚ºUPï¼ˆ14px â†’ 18pxï¼‰ */
    line-height: 1.8;
    font-weight: 600;
    /* â† å¤ªå­— */
    color: #111;
    /* â† ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆå¼·ã‚ */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    /* â† è»½ã„å½±ã§æµ®ã‹ã›ã‚‹ */
    letter-spacing: 0.05em;
    /* â† å°‘ã—æ–‡å­—é–“ã‚’åºƒã’ã¦èª­ã¿ã‚„ã™ã */
}

/* 2æ®µç›®ï¼ˆå…¥åŠ› or æ¸¬å®šçµæœï¼‰ */
#ops-footer .ops-field-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    width: 100%;
    max-width: 780px;
    margin: 0 auto;
}

#ops-footer .ops-field-row>* {
    flex: 0 1 520px;
    display: flex;
    justify-content: center;
}

/* å…¥åŠ›æ¬„ãƒ–ãƒ­ãƒƒã‚¯ã®å¹…ï¼ˆä¸­å¤®å¯„ã›ï¼‰ */
#ops-footer .field-answer,
#ops-footer .field-ar {
    width: min(560px, 72vw);
    margin: 0 auto;
}

/* å…¥åŠ›ã®è¦‹ãŸç›®ãƒ»å¯èª­æ€§ã‚¢ãƒƒãƒ— */
#ops-footer .field-answer input,
#ops-footer .field-ar input {
    width: 80%;
    min-width: 0;
    height: var(--ops-h);
    padding: 0 14px;
    font-size: 16px;
    font-weight: 600;
    color: #111;
    background: rgba(255, 255, 255, 0.85);
    border: 1px solid rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    outline: none;
    box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.06), 0 6px 18px rgba(0, 0, 0, 0.12);
    transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}

#ops-footer .field-answer input:focus,
#ops-footer .field-ar input:focus {
    border-color: #1f6feb;
    background: rgba(255, 255, 255, 0.95);
    box-shadow: 0 0 0 3px rgba(31, 111, 235, 0.25), 0 8px 22px rgba(0, 0, 0, 0.15);
}

#ops-footer .field-answer input::placeholder,
#ops-footer .field-ar input::placeholder {
    color: #666;
    opacity: .9;
}

/* æ¸¬å®šçµæœ */
#ops-footer #geoResult {
    font-size: 18px;
    /* â† æ–‡å­—ã‚’å¤§ãã */
    font-weight: 600;
    /* â† å¤ªå­—ã§è¦–èªæ€§ã‚¢ãƒƒãƒ— */
    color: #c0392b;
    /* â† å¼·èª¿è‰² */
    background: rgba(255, 255, 255, 0.6);
    /* â† èª­ã¿ã‚„ã™ã•UP */
    padding: 6px 10px;
    border-radius: 6px;
    text-align: center;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
}

/* 3æ®µç›®ï¼ˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼š5ã¤ä¸¦ã³ï¼‰ */
#ops-footer .ops-actions-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    width: 100%;
    max-width: 780px;
    margin: 0 auto;
}

/* 3æ®µç›®ã®å„ãƒœã‚¿ãƒ³ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã‚’ç¸¦æ¨ªã‚»ãƒ³ã‚¿ãƒ¼ï¼‰ */
#ops-footer .ops-actions-row .btn {
    display: flex;
    /* â† è¿½åŠ  */
    align-items: center;
    /* â† è¿½åŠ ï¼šç¸¦ä¸­å¤® */
    justify-content: center;
    /* â† è¿½åŠ ï¼šæ¨ªä¸­å¤® */
    line-height: 1;
    /* â† è¡Œé«˜ã§ã‚ºãƒ¬ãªã„ã‚ˆã†ã« */
    height: var(--ops-h);
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    border: 1px solid #111;
    background: #111;
    color: #fff;
    flex: 1 1 auto;
    text-align: center;
    padding: 0 12px;
}

#ops-footer .ops-actions-row .btn.icon {
    flex: 0 0 44px;
    min-width: 44px;
    padding: 0;
    display: flex;
    align-items: center;
    /* â† ä¸­å¤®å¯„ã› */
    justify-content: center;
    font-size: 20px;
    /* optional: adjust icon size balance */
}

/* --- Click affordance: make all footer controls show pointer --- */
#ops-footer .btn,
#ops-footer button {
    cursor: pointer;
}

/* Disabled state */
#ops-footer button[disabled],
#ops-footer .btn[aria-disabled="true"] {
    cursor: not-allowed;
    opacity: .65;
}

/* =====================
   ãƒ’ãƒ³ãƒˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
   ===================== */
/* ===== ãƒ’ãƒ³ãƒˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— ===== */
.page-story .hint-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.45);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    z-index: 1000;
}

.page-story .hint-overlay[hidden] {
    display: none;
}

.page-story .hint-dialog {
    background: #fffef5;
    border: 2px solid #443226;
    border-radius: 8px;
    max-width: min(28rem, 90vw);
    width: 100%;
    padding: 1.5rem;
    box-shadow: 0 0.75rem 1.5rem rgba(0, 0, 0, 0.25);
    text-align: center;
}

.page-story .hint-title {
    margin: 0 0 0.75rem;
    font-size: 1.35rem;
    font-weight: 600;
}

.page-story .hint-body {
    margin: 0 0 1.25rem;
    line-height: 1.6;
}

.page-story .hint-dialog .btn.close {
    min-width: 6rem;
}

/* =====================
   ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã®ã‚¤ãƒ³ãƒˆãƒ­æ¼”å‡º
   ===================== */
/* ===== ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã®ã‚¤ãƒ³ãƒˆãƒ­æ¼”å‡º ===== */
/* #intro-overlay {
    position: fixed;
    inset: 0;
    background: #000;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: "Noto Serif JP", serif;
    font-size: 36px;
    letter-spacing: .1em;
    opacity: 1;
    z-index: 9999;
    animation: fadeOut 2.5s ease 2.5s forwards;
}

@keyframes fadeOut {
    to {
        opacity: 0;
        visibility: hidden;
    }
} */

/* ===== ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°å…¨ä½“ ===== */
#prologue {
    position: fixed;
    inset: 0;
    background: #000;
    /* èƒŒæ™¯ã‚’é»’ãƒ•ã‚§ãƒ¼ãƒ‰ã« */
    display: flex;
    align-items: center;
    justify-content: center;
    /* ä»¥ä¸‹ã®éƒ¨åˆ†ã¯epi.cssã§ã„ã„ã‹ã‚‚ */
    /* font-family: "Noto Serif JP", serif;
    font-size: 60px;
    letter-spacing: .1em;
    color: #fff; */
    opacity: 1;
    flex-direction: column;
    text-align: center;
    z-index: 9999;
    overflow: hidden;
}

/* Skipãƒœã‚¿ãƒ³ã®ä½ç½®å›ºå®š */
#prologue .prologue-skip {
    position: fixed;
    /* å¸¸ã«ç”»é¢ä¸Šã«å›ºå®š */
    top: 16px;
    /* ä¸Šã‹ã‚‰ã®ä½™ç™½ */
    left: 16px;
    /* å·¦ã‹ã‚‰ã®ä½™ç™½ */
    z-index: 10000;
    /* ä»–è¦ç´ ã‚ˆã‚Šä¸Šã« */
    background: rgba(0, 0, 0, 0.5);
    color: #fff;
    border: none;
    padding: 6px 12px;
    font-size: 14px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s ease;
}

/* hoveræ™‚ã®è»½ã„æ¼”å‡º */
#prologue .prologue-skip:hover {
    background: rgba(255, 255, 255, 0.3);
}





/* =====================
   ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–
   ===================== */
/* === PCå¹…ï¼š3æ®µç›®ã®5ãƒœã‚¿ãƒ³ã‚’å®Œå…¨ç­‰å¹…ã« === */
/* === PCã€œã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼šãƒœã‚¿ãƒ³ãŒæ½°ã‚Œãªã„æœ€å°å¹…ã‚’ç¢ºä¿ã—ã¤ã¤è‡ªå‹•æ®µè½ã¡ === */
@media (min-width: 481px) {
    #ops-footer .ops-actions-row {
        /* æ¨ªå¹…ã«å¿œã˜ã¦ 5â†’4â†’3â†’2 åˆ—â€¦ã«è‡ªå‹•ã§èª¿æ•´ */
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 10px;
        align-items: stretch;
        width: 100%;
        max-width: 780px;
        margin: 0 auto;
    }

    /* ãƒœã‚¿ãƒ³è‡ªä½“ã®ã‚µã‚¤ã‚ºã¯å°‘ã—å¯å¤‰ã«ã—ã¦æ½°ã‚Œã‚’é˜²ã */
    #ops-footer .ops-actions-row .btn {
        width: 100%;
        height: var(--ops-h);
        border-radius: 8px;
        font-weight: 600;
        font-size: clamp(12px, 1.6vw, 14px);
        border: 1px solid #111;
        background: #111;
        color: #fff;
        padding: 0 clamp(8px, 1.2vw, 12px);
        text-align: center;
    }

    /* ã‚¢ã‚¤ã‚³ãƒ³ãƒœã‚¿ãƒ³ã‚‚ä¸­å¤®æƒãˆï¼†æœ€å°å¹…ã‚’ãƒœã‚¿ãƒ³ã¨åŒã˜æ‰±ã„ã« */
    #ops-footer .ops-actions-row .btn.icon {
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: clamp(18px, 2.2vw, 20px);
        padding: 0;
    }
}

/* === ãƒ¢ãƒã‚¤ãƒ«å¹…ã¯å¾“æ¥é€šã‚Šï¼ˆç¸¦ç©ã¿ï¼‹ã€Œæ¬¡ã¸é€²ã‚€ã€ã¯å…¨å¹…ï¼‰ === */
/* ==== ã‚¹ãƒãƒ›æœ€é©åŒ–ï¼ˆé«˜ã•ãƒ»ä½™ç™½ã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ï¼ã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢å¯¾å¿œï¼‰ ==== */
@media (max-width: 480px) {

    /* ãƒ•ãƒƒã‚¿ãƒ¼å…¨ä½“ã®èª¿æ•´ */
    #ops-footer {
        padding: 10px 12px;
        gap: 8px;
    }

    /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¡Œï¼šå¾“æ¥ã®ç¸¦ç©ã¿ */
    #ops-footer .ops-actions-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 8px;
    }

    #ops-footer .ops-actions-row .btn {
        width: auto;
        min-width: 140px;
        flex: none;
    }

    #ops-footer .ops-actions-row .btn.next {
        flex: 1 0 100%;
        /* â† æ¬¡ã¸é€²ã‚€ ã¯å…¨å¹… */
    }

    /* å…¥åŠ›ãƒ–ãƒ­ãƒƒã‚¯ã®å¹… */
    #ops-footer .field-answer,
    #ops-footer .field-ar {
        width: min(520px, 92vw);
    }

    /* å…¥åŠ›ã®ãƒ•ã‚©ãƒ³ãƒˆ/ä½™ç™½ */
    #ops-footer .field-answer input,
    #ops-footer .field-ar input {
        font-size: 15px;
        padding: 0 12px;
    }

    /* note-paperï¼šã‚¹ãƒãƒ›æ™‚ã«è‡ªå‹•ç¸®å°ã—ã¤ã¤ç¸¦æ¨ªæ¯”ã‚’å›ºå®š */
    .note-paper {
        width: 90vw;
        /* ç”»é¢å¹…ã®9å‰²ã§ç¸®ã‚€ */
        aspect-ratio: 1 / 1;
        /* â† ç¸¦æ¨ªæ¯”å›ºå®š */
        margin: 60px auto 120px;
        /* ä¸Šä¸‹ã®ä½™ç™½ã‚’ã‚¹ãƒãƒ›å‘ã‘ã«å¾®èª¿æ•´ */
    }

    .note-paper .note-bg {
        background-size: cover;
        /* ã¯ã¿å‡ºã—é˜²æ­¢ */
        background-position: center;
    }

    .note-paper .note-text {
        padding: 20px 16px;
        font-size: 22px;
        /* PC:40px â†’ ãƒ¢ãƒã‚¤ãƒ«æ™‚ã«åŠåˆ†ãã‚‰ã„ */
        line-height: 1.8;
    }

    /* ã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢è€ƒæ…® */
    #ops-footer {
        padding: 10px calc(env(safe-area-inset-right, 0px) + 12px) calc(env(safe-area-inset-bottom, 0px) + 10px) calc(env(safe-area-inset-left, 0px) + 12px);
    }

    /* èª¬æ˜æ–‡ã‚’å°ã•ã‚ã«ãƒ»è¡Œé–“ã‚‚å°‘ã—è©°ã‚ã‚‹ */
    #ops-footer .ops-desc {
        font-size: 15px;
        line-height: 1.5;
    }

    /* ç´™ãŒç¢ºå®Ÿã«è¦‹åˆ‡ã‚Œãªã„ã‚ˆã†ã« */
    .page-story main {
        padding-bottom: 220px;
    }

    /* å…¥åŠ›ã¯ãƒ•ãƒ«å¹…ã®ã¾ã¾ */
    #ops-footer input {
        width: 100%;
        flex: none;
        height: var(--ops-h);
        font-size: 15px;
    }

    /* çµæœè¡¨ç¤ºãƒ†ã‚­ã‚¹ãƒˆã®èª¿æ•´ï¼ˆä¸­å¤®å¯„ã›ï¼‹èª­ã¿ã‚„ã™ã•ï¼‰ */
    #ops-footer #geoResult {
        width: auto;
        max-width: 100%;
        text-align: center;
        align-self: center;
        margin: 0;
        padding: 0 8px;
        font-size: 14px;
    }

    /* 5ãƒœã‚¿ãƒ³ã‚’1åˆ—ã«åã‚ã‚‹ãŸã‚ã®ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆè¨­å®šï¼ˆå°ç”»é¢æ™‚ã®ä»£æ›¿ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰ */
    #ops-footer {
        --ops-h: 38px;
    }

    #ops-footer .ops-actions-row {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 6px;
        align-items: stretch;
        width: 100%;
        max-width: 100%;
    }

    #ops-footer .ops-actions-row .btn {
        min-width: 0;
        /* ã“ã‚ŒãŒé‡è¦ï¼šã¯ã¿å‡ºã—é˜²æ­¢ */
        height: var(--ops-h);
        padding: 0 8px;
        /* ä½™ç™½ã‚’è©°ã‚ã‚‹ */
        font-size: 13px;
        /* ãƒ†ã‚­ã‚¹ãƒˆã‚’å°‘ã—å°ã•ã */
        line-height: 1;
        /* ç¸¦ä¸­å¤®ã‚’å®‰å®šã•ã›ã‚‹ */
        white-space: nowrap;
        /* æŠ˜ã‚Šè¿”ã—é˜²æ­¢ */
    }

    #ops-footer .ops-actions-row .btn.icon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        font-size: 18px;
    }

    #ops-footer .ops-actions-row .btn.next {
        letter-spacing: 0.02em;
        padding-inline: 8px;
    }

    /* å®‰å…¨ãƒãƒ¼ã‚¸ãƒ³ï¼ˆã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢ï¼‰ã‚‚ç¶­æŒ */
    #ops-footer {
        padding-left: max(12px, env(safe-area-inset-left));
        padding-right: max(12px, env(safe-area-inset-right));
        padding-bottom: calc(10px + env(safe-area-inset-bottom, 0px));
    }

    body.variant-plain .note-paper {
        margin: 100px auto 45px;
        /* ã‚¹ãƒãƒ›ã®plainã ã‘ã“ã‚Œã‚’ã„ã‹ã—ã¦ã€noteã®ä½ç½®ã‚’ã„ã„æ„Ÿã˜ã«èª¿æ•´ã—ãŸã„ */
    }
}